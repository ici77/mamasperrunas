<nav class="navbar navbar-expand-lg navbar-light">
  <div class="container-fluid">
    <!-- LOGO -->
    <a class="navbar-brand d-flex align-items-center" routerLink="/">
      <img src="assets/images/logo.png" alt="Logo" width="40" height="40" class="me-2" />
      <span>MAMAS PERRUNAS</span>
    </a>

    <!-- Botón para menú en móviles -->
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
      aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <!-- Contenido del Navbar -->
    <div class="collapse navbar-collapse justify-content-center" id="navbarNav">
      <div class="d-flex flex-grow-1"></div>
      <ul class="navbar-nav me-auto">

  <!-- 🛍️ TIENDA -->
  <li class="nav-item dropdown">
    <a class="nav-link dropdown-toggle" id="tiendaDropdown" role="button" data-bs-toggle="dropdown"
      aria-expanded="false">
      🛒 Tienda
    </a>
    <ul class="dropdown-menu" aria-labelledby="tiendaDropdown">
      <li><a class="dropdown-item" [routerLink]="['/products']">🛍️ Ver todo</a></li>
      <li><a class="dropdown-item" [routerLink]="['/products', 'Ropa']">👕 Ropa</a></li>
      <li><a class="dropdown-item" [routerLink]="['/products', 'Accesorios']">🎀 Accesorios</a></li>
      <li><a class="dropdown-item" [routerLink]="['/products', 'Juguetes']">🧸 Juguetes</a></li>
      <li><a class="dropdown-item" [routerLink]="['/products', 'Alimentos']">🥫 Alimentos</a></li>
      <li><a class="dropdown-item" [routerLink]="['/products', 'Camas']">🛏️ Camas</a></li>
      <li><a class="dropdown-item" [routerLink]="['/products', 'Paseo']">🚶 Paseo</a></li>
    </ul>
  </li>

  <!-- 🎯 EVENTOS -->
  <li class="nav-item dropdown">
    <a class="nav-link dropdown-toggle" id="eventosDropdown" role="button" data-bs-toggle="dropdown"
      aria-expanded="false">
      🎯 Eventos
    </a>
    <ul class="dropdown-menu" aria-labelledby="eventosDropdown">
      <li><a class="dropdown-item" routerLink="/eventos">📅 Todos los eventos</a></li>
      <li><hr class="dropdown-divider"></li>
      <li><a class="dropdown-item" [routerLink]="['/eventos']" [queryParams]="{ tipo: 'celebraciones' }">🎉 Celebraciones</a></li>
      <li><a class="dropdown-item" [routerLink]="['/eventos']" [queryParams]="{ tipo: 'concursos' }">🏆 Concursos</a></li>
      <li><a class="dropdown-item" [routerLink]="['/eventos']" [queryParams]="{ tipo: 'solidarios' }">❤️ Solidarios</a></li>
      <li><a class="dropdown-item" [routerLink]="['/eventos']" [queryParams]="{ tipo: 'talleres' }">🧠 Talleres</a></li>
      <li><a class="dropdown-item" [routerLink]="['/eventos']" [queryParams]="{ tipo: 'quedadas' }">🌳 Quedadas</a></li>
    </ul>
  </li>

  <!-- 🧰 SERVICIOS -->
  <li class="nav-item dropdown">
    <a class="nav-link dropdown-toggle" id="serviciosDropdown" role="button" data-bs-toggle="dropdown"
      aria-expanded="false">
      🧰 Servicios
    </a>
    <ul class="dropdown-menu" aria-labelledby="serviciosDropdown">
      <li><a class="dropdown-item" href="#">🩺 Veterinaria</a></li>
      <li><a class="dropdown-item" href="#">🐾 Entrenamiento</a></li>
      <li><a class="dropdown-item" href="#">💇 Estética</a></li>
      <li><a class="dropdown-item" href="#">🏠 Guarderías</a></li>
      <li><a class="dropdown-item" href="#">💬 Asesoramiento</a></li>
    </ul>
  </li>

  <!-- 🐶 COMUNIDAD -->
  <li class="nav-item dropdown">
    <a class="nav-link dropdown-toggle" id="comunidadDropdown" role="button" data-bs-toggle="dropdown"
      aria-expanded="false">
      🐶 Comunidad
    </a>
    <ul class="dropdown-menu" aria-labelledby="comunidadDropdown">
      <li><a class="dropdown-item" routerLink="/foro">💬 Foros</a></li>
      <li><a class="dropdown-item" href="#">👥 Grupos</a></li>
      <li><a class="dropdown-item" href="#">📖 Historias</a></li>
      <li><a class="dropdown-item" href="#">⭐ Recomendaciones</a></li>
      <li><a class="dropdown-item" href="#">📊 Encuestas</a></li>
    </ul>
  </li>

  <!-- 📰 BLOG -->
  <li class="nav-item dropdown">
    <a class="nav-link dropdown-toggle" id="blogDropdown" role="button" data-bs-toggle="dropdown"
      aria-expanded="false">
      📰 Blog
    </a>
    <ul class="dropdown-menu" aria-labelledby="blogDropdown">
      <li><a class="dropdown-item" [routerLink]="['/blog']">📰 Ver blog</a></li>
      <li><a class="dropdown-item" [routerLink]="['/blog/experts']">👩‍⚕️ Nuestros expertos</a></li>
      <li><a class="dropdown-item" [routerLink]="['/blog/news']">🗞️ Noticias</a></li>
      <li><a class="dropdown-item" [routerLink]="['/blog/tips']">💡 Consejos</a></li>
      <li><a class="dropdown-item" [routerLink]="['/blog/life']">🐕 Vida canina</a></li>
      <li><a class="dropdown-item" [routerLink]="['/razas']">📚 Razas</a></li>
    </ul>
  </li>

</ul>


      <div class="d-flex flex-grow-1"></div>
      <div class="d-flex flex-column align-items-end">
        <a class="small text-white mb-1" routerLink="/business-area">Área Empresas</a>
      
        <!-- ✅ Mostrar perfil y botón de cerrar sesión si está autenticado -->
      <ng-container *ngIf="isAuthenticated; else authButtons">
          <div class="d-flex align-items-center">
            <!-- Imagen de perfil con enlace -->
            <a routerLink="/perfil">
              <img
                [src]="'http://localhost:8080' + (fotoPerfil || '/assets/images/default-avatar.png')"
                (error)="setDefaultAvatar($event)"
                alt="Foto de perfil"
                width="40"
                height="40"
                class="rounded-circle me-2"
                style="object-fit: cover; cursor: pointer;"
              />
            </a>

            <!-- Nombre con enlace -->
            <a routerLink="/perfil" class="text-white text-decoration-none me-2" style="cursor: pointer;">
              ¡Hola, {{ nombreUsuario }}!
            </a>

            <button class="btn btn-danger btn-sm" (click)="logout()">Cerrar sesión</button>
          </div>
        </ng-container>

        <ng-template #authButtons>
          <div>
            <a class="btn btn-outline-light me-2" routerLink="/registro">Regístrate</a>
            <a class="btn btn-outline-light" routerLink="/login">Accede</a>
          </div>
        </ng-template>
      </div>
    </div>
  </div>
</nav>